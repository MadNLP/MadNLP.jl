<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Quickstart · MadNLP.jl</title><meta name="title" content="Quickstart · MadNLP.jl"/><meta property="og:title" content="Quickstart · MadNLP.jl"/><meta property="twitter:title" content="Quickstart · MadNLP.jl"/><meta name="description" content="Documentation for MadNLP.jl."/><meta property="og:description" content="Documentation for MadNLP.jl."/><meta property="twitter:description" content="Documentation for MadNLP.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="MadNLP.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">MadNLP.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li class="is-active"><a class="tocitem" href>Quickstart</a><ul class="internal"><li><a class="tocitem" href="#Using-MadNLP-with-JuMP"><span>Using MadNLP with JuMP</span></a></li><li><a class="tocitem" href="#Using-MadNLP-with-NLPModels"><span>Using MadNLP with NLPModels</span></a></li></ul></li><li><a class="tocitem" href="../algorithm/">Algorithm</a></li><li><a class="tocitem" href="../options/">Options</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/gpu/">GPU acceleration</a></li><li><a class="tocitem" href="../tutorials/multiprecision/">Multi-precision</a></li><li><a class="tocitem" href="../tutorials/warmstart/">Warm-start</a></li><li><a class="tocitem" href="../tutorials/quasi_newton/">Quasi-Newton</a></li><li><a class="tocitem" href="../tutorials/kktsystem/">Custom KKT system</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../man/kkt/">KKT systems</a></li><li><a class="tocitem" href="../man/linear_solvers/">Linear Solvers</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../lib/ipm/">IPM solver</a></li><li><a class="tocitem" href="../lib/barrier/">Barrier strategies</a></li><li><a class="tocitem" href="../lib/callbacks/">Callback wrappers</a></li><li><a class="tocitem" href="../lib/kkt/">KKT systems</a></li><li><a class="tocitem" href="../lib/linear_solvers/">Linear Solvers</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Quickstart</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Quickstart</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MadNLP/MadNLP.jl/blob/master/docs/src/quickstart.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Quickstart"><a class="docs-heading-anchor" href="#Quickstart">Quickstart</a><a id="Quickstart-1"></a><a class="docs-heading-anchor-permalink" href="#Quickstart" title="Permalink"></a></h1><p>This page presents a quickstart guide to solve a nonlinear problem with MadNLP.</p><p>As a demonstration, we show how to implement the HS15 nonlinear problem from the Hock &amp; Schittkowski collection, first by using <a href="https://github.com/jump-dev/Jump.jl">JuMP</a>, and then by specifying the derivatives manually in <a href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/">NLPModels</a>.</p><p>The HS15 problem is defined as:</p><p class="math-container">\[\begin{aligned}
\min_{x_1, x_2} \; &amp;   100 \times (x_2 - x_1^2)^2 +(1 - x_1)^2 \\
\text{subject to} \quad &amp;  x_1  \times x_2 \geq 1 \\
        &amp; x_1 + x_2^2 \geq 0 \\
        &amp; x_1 \leq 0.5
\end{aligned}
\]</p><p>Despite its small dimension, its resolution remains challenging as the problem is nonlinear nonconvex. Note that HS15 has one bound constraint (<span>$x_1 \leq 0.5$</span>) and two generic constraints. We display in the following picture the feasible set of HS15. The problem has two local solutions: <span>$(x_1, x_2) = (0.5, 2)$</span> and <span>$(x_1, x_2) \approx (-0.792, -1.262)$</span>.</p><p><img src="../assets/hs15.png" alt="HS15"/></p><h2 id="Using-MadNLP-with-JuMP"><a class="docs-heading-anchor" href="#Using-MadNLP-with-JuMP">Using MadNLP with JuMP</a><a id="Using-MadNLP-with-JuMP-1"></a><a class="docs-heading-anchor-permalink" href="#Using-MadNLP-with-JuMP" title="Permalink"></a></h2><p>JuMP is the easiest way to implement a nonlinear problem. In JuMP, the user just has only to pass the structure of the problem, the computation of the first- and second-order derivatives being handled automatically.</p><p>Using JuMP&#39;s syntax, the HS15 problem translates to</p><pre><code class="language-julia hljs">using JuMP
model = Model()
@variable(model, x1 &lt;= 0.5)
@variable(model, x2)

@objective(model, Min, 100.0 * (x2 - x1^2)^2 + (1.0 - x1)^2)
@constraint(model, x1 * x2 &gt;= 1.0)
@constraint(model, x1 + x2^2 &gt;= 0.0)

println(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Min (100 * ((-x1² + x2) ^ 2)) + (x1² - 2 x1 + 1)
Subject to
 x1*x2 ≥ 1
 x2² + x1 ≥ 0
 x1 ≤ 0.5</code></pre><p>Then, solving HS15 with MadNLP directly translates to</p><pre><code class="language-julia hljs">using MadNLP
JuMP.set_optimizer(model, MadNLP.Optimizer)
JuMP.optimize!(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">This is <span class="sgr34">Mad</span><span class="sgr31">N</span><span class="sgr32">L</span><span class="sgr35">P</span> version v0.8.12, running with MUMPS v5.8.2

Number of nonzeros in constraint Jacobian............:        4
Number of nonzeros in Lagrangian Hessian.............:        5

Total number of variables............................:        2
                     variables with only lower bounds:        0
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        1
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        2
        inequality constraints with only lower bounds:        2
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du inf_compl lg(mu) lg(rg) alpha_pr ir ls
   0  1.0000000e+00 1.01e+00 1.00e+00 5.00e-01  -1.0     -   0.00e+00  1  0
   1  9.9758855e-01 1.00e+00 4.61e+01 3.80e-01  -1.0     -   9.80e-03  1  1h
   2  9.9664309e-01 1.00e+00 5.00e+02 2.35e-03  -1.0     -   9.93e-05  1  1h
   3  1.3615174e+00 9.99e-01 4.41e+02 2.44e-03  -1.0     -   4.71e-04  1  1H
   4  1.3742697e+00 9.99e-01 3.59e+02 1.40e-01  -1.0     -   2.68e-05  1  1h
   5  1.4692139e+00 9.99e-01 4.94e+02 2.31e+00  -1.0     -   1.46e-04  1  1h
   6  3.1727722e+00 9.97e-01 3.76e+02 2.36e+00  -1.0     -   9.77e-04  1 11h
   7  3.1746542e+00 9.96e-01 1.53e+02 3.13e-03  -1.0    4.0  7.98e-04  1  1h
   8  8.2322585e+00 9.85e-01 2.47e+02 5.06e-03  -1.0     -   7.81e-03  1  8h
   9  8.2886187e+00 9.84e-01 4.78e+02 1.51e-04  -1.0     -   2.48e-04  1  1h
iter    objective    inf_pr   inf_du inf_compl lg(mu) lg(rg) alpha_pr ir ls
  10  4.0285541e+01 8.72e-01 4.57e+02 6.32e-04  -1.0     -   6.25e-02  1  5h
  11  2.8602305e+02 2.66e-01 4.91e+02 5.99e-04  -1.0     -   5.00e-01  1  2h
  12  3.9870638e+02 6.41e-03 4.21e+02 3.32e-03  -1.0     -   1.00e+00  1  1h
  13  3.4928112e+02 2.93e-02 2.62e+01 1.02e+00  -1.0     -   1.00e+00  1  1h
  14  3.5909050e+02 6.98e-03 1.66e+00 6.15e-02  -1.0     -   1.00e+00  1  1h
  15  3.6047026e+02 6.05e-05 1.44e-02 6.46e-02  -1.0     -   1.00e+00  1  1h
  16  3.6038251e+02 2.50e-07 7.99e-05 1.89e-03  -2.5     -   1.00e+00  1  1h
  17  3.6037976e+02 2.63e-10 7.93e-08 1.27e-06  -5.7     -   1.00e+00  1  1h
  18  3.6037976e+02 1.11e-16 1.19e-13 1.58e-09  -8.6     -   1.00e+00  2  1h

Number of Iterations....: 18

                                   (scaled)                 (unscaled)
Objective...............:   3.6037976240508465e+02    3.6037976240508465e+02
Dual infeasibility......:   1.1912602012132843e-13    1.1912602012132843e-13
Constraint violation....:   1.1102230246251565e-16    1.1102230246251565e-16
Complementarity.........:   1.5755252336099267e-09    1.5755252336099267e-09
Overall NLP error.......:   1.5755252336099267e-09    1.5755252336099267e-09

Number of objective function evaluations              = 46
Number of objective gradient evaluations              = 19
Number of constraint evaluations                      = 46
Number of constraint Jacobian evaluations             = 19
Number of Lagrangian Hessian evaluations              = 18

Total wall secs in initialization                     =  2.608 s
Total wall secs in linear solver                      =  0.003 s
Total wall secs in NLP function evaluations           =  8.979 s
Total wall secs in solver (w/o init./fun./lin. alg.)  = 11.478 s
Total wall secs                                       = 23.069 s

<span class="sgr32">EXIT: Optimal Solution Found (tol = 1.0e-08).</span></code></pre><p>Under the hood, JuMP builds a sparse AD backend to evaluate the first and second-order derivatives of the objective and the constraints. Then, MadNLP takes as input the callbacks generated by JuMP and wraps them inside a <code>MadNLP.MOIModel</code>.</p><h2 id="Using-MadNLP-with-NLPModels"><a class="docs-heading-anchor" href="#Using-MadNLP-with-NLPModels">Using MadNLP with NLPModels</a><a id="Using-MadNLP-with-NLPModels-1"></a><a class="docs-heading-anchor-permalink" href="#Using-MadNLP-with-NLPModels" title="Permalink"></a></h2><p>Alternatively, we can compute the derivatives manually in an <code>AbstractNLPModel</code>. This second option, although more complicated, gives us more flexibility and comes without boilerplate.</p><p>We define the <code>HS15Model</code> as :</p><pre><code class="language-julia hljs">struct HS15Model &lt;: NLPModels.AbstractNLPModel{Float64,Vector{Float64}}
    meta::NLPModels.NLPModelMeta{Float64, Vector{Float64}}
    counters::NLPModels.Counters
end

function HS15Model(x0)
    return HS15Model(
        NLPModels.NLPModelMeta(
            2,     #nvar
            ncon = 2,
            nnzj = 4,
            nnzh = 3,
            x0 = x0,
            y0 = zeros(2),
            lvar = [-Inf, -Inf],
            uvar = [0.5, Inf],
            lcon = [1.0, 0.0],
            ucon = [Inf, Inf],
            minimize = true
        ),
        NLPModels.Counters()
    )
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.HS15Model</code></pre><p>This structure takes as input the initial position <code>x0</code> and generates an <code>AbstractNLPModel</code>. <code>NLPModelMeta</code> stores the information about the structure of the problem (variables and constraints&#39; lower and upper bounds, number of variables, number of constraints, ...). <code>Counters</code> is a utility storing the number of time each callbacks is being called.</p><p>The objective function takes as input a <code>HS15Model</code> instance and a vector with dimension 2 storing the current values for <span>$x_1$</span> and <span>$x_2$</span>:</p><pre><code class="language-julia hljs">function NLPModels.obj(nlp::HS15Model, x::AbstractVector)
    return 100.0 * (x[2] - x[1]^2)^2 + (1.0 - x[1])^2
end</code></pre><p>The corresponding gradient writes (note that we update the values of the gradient <code>g</code> inplace):</p><pre><code class="language-julia hljs">function NLPModels.grad!(nlp::HS15Model, x::AbstractVector, g::AbstractVector)
    z = x[2] - x[1]^2
    g[1] = -400.0 * z * x[1] - 2.0 * (1.0 - x[1])
    g[2] = 200.0 * z
    return g
end</code></pre><p>Similarly, we define the constraints</p><pre><code class="language-julia hljs">function NLPModels.cons!(nlp::HS15Model, x::AbstractVector, c::AbstractVector)
    c[1] = x[1] * x[2]
    c[2] = x[1] + x[2]^2
    return c
end</code></pre><div class="admonition is-info" id="Note-695fa5dc6d3bf53c"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-695fa5dc6d3bf53c" title="Permalink"></a></header><div class="admonition-body"><p>Observe that we update the values of the constraint vector <code>c</code> and the gradient vector <code>g</code> inplace.</p></div></div><p>The Jacobian is defined as</p><pre><code class="language-julia hljs">function NLPModels.jac_structure!(nlp::HS15Model, I::AbstractVector{T}, J::AbstractVector{T}) where T
    copyto!(I, [1, 1, 2, 2])
    copyto!(J, [1, 2, 1, 2])
end

function NLPModels.jac_coord!(nlp::HS15Model, x::AbstractVector, J::AbstractVector)
    J[1] = x[2]    # (1, 1)
    J[2] = x[1]    # (1, 2)
    J[3] = 1.0     # (2, 1)
    J[4] = 2*x[2]  # (2, 2)
    return J
end</code></pre><div class="admonition is-info" id="Note-38f0665269ed14e7"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-38f0665269ed14e7" title="Permalink"></a></header><div class="admonition-body"><p>As the Jacobian is sparse, we have to provide explicitly its sparsity structure.</p></div></div><p>It remains to implement the Hessian of the Lagrangian for a <code>HS15Model</code>. The Lagrangian of the problem writes</p><p class="math-container">\[L(x_1, x_2, y_1, y_2) = 100 \times (x_2 - x_1^2)^2 +(1 - x_1)^2
+ y_1 \times (x_1 \times x_2) + y_2 \times (x_1 + x_2^2)\]</p><p>and we aim at evaluating its second-order derivative <span>$\nabla^2_{xx}L(x_1, x_2, y_1, y_2)$</span>.</p><p>We first have to define the sparsity structure of the Hessian, which is assumed to be sparse. The Hessian is a symmetric matrix, and by convention we pass only the lower-triangular part of the matrix to the solver. Hence, we define the sparsity structure as</p><pre><code class="language-julia hljs">function NLPModels.hess_structure!(nlp::HS15Model, I::AbstractVector{T}, J::AbstractVector{T}) where T
    copyto!(I, [1, 2, 2])
    copyto!(J, [1, 1, 2])
end</code></pre><p>Now that the sparsity structure is defined, the associated Hessian writes:</p><pre><code class="language-julia hljs">function NLPModels.hess_coord!(nlp::HS15Model, x, y, H::AbstractVector; obj_weight=1.0)
    # Objective
    H[1] = obj_weight * (-400.0 * x[2] + 1200.0 * x[1]^2 + 2.0)
    H[2] = obj_weight * (-400.0 * x[1])
    H[3] = obj_weight * 200.0
    # First constraint
    H[2] += y[1] * 1.0
    # Second constraint
    H[3] += y[2] * 2.0
    return H
end</code></pre><p>Once the problem specified in NLPModels, we can create a new MadNLP instance and solve it:</p><pre><code class="language-julia hljs">x0 = zeros(2) # initial position
nlp = HS15Model(x0)
solver = MadNLP.MadNLPSolver(nlp; print_level=MadNLP.INFO)
results = MadNLP.solve!(solver)
nothing</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">This is <span class="sgr34">Mad</span><span class="sgr31">N</span><span class="sgr32">L</span><span class="sgr35">P</span> version v0.8.12, running with MUMPS v5.8.2

Number of nonzeros in constraint Jacobian............:        4
Number of nonzeros in Lagrangian Hessian.............:        3

Total number of variables............................:        2
                     variables with only lower bounds:        0
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        1
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        2
        inequality constraints with only lower bounds:        2
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du inf_compl lg(mu) lg(rg) alpha_pr ir ls
   0  1.0000000e+00 1.01e+00 1.00e+00 5.00e-01  -1.0     -   0.00e+00  1  0
   1  9.9758855e-01 1.00e+00 4.61e+01 3.80e-01  -1.0     -   9.80e-03  1  1h
   2  9.9664309e-01 1.00e+00 5.00e+02 2.35e-03  -1.0     -   9.93e-05  1  1h
   3  1.3615174e+00 9.99e-01 4.41e+02 2.44e-03  -1.0     -   4.71e-04  1  1H
   4  1.3742697e+00 9.99e-01 3.59e+02 1.40e-01  -1.0     -   2.68e-05  1  1h
   5  1.4692139e+00 9.99e-01 4.94e+02 2.31e+00  -1.0     -   1.46e-04  1  1h
   6  3.1727722e+00 9.97e-01 3.76e+02 2.36e+00  -1.0     -   9.77e-04  1 11h
   7  3.1746542e+00 9.96e-01 1.53e+02 3.13e-03  -1.0    4.0  7.98e-04  1  1h
   8  8.2322585e+00 9.85e-01 2.47e+02 5.06e-03  -1.0     -   7.81e-03  1  8h
   9  8.2886187e+00 9.84e-01 4.78e+02 1.51e-04  -1.0     -   2.48e-04  1  1h
iter    objective    inf_pr   inf_du inf_compl lg(mu) lg(rg) alpha_pr ir ls
  10  4.0285541e+01 8.72e-01 4.57e+02 6.32e-04  -1.0     -   6.25e-02  1  5h
  11  2.8602305e+02 2.66e-01 4.91e+02 5.99e-04  -1.0     -   5.00e-01  1  2h
  12  3.9870638e+02 6.41e-03 4.21e+02 3.32e-03  -1.0     -   1.00e+00  1  1h
  13  3.4928112e+02 2.93e-02 2.62e+01 1.02e+00  -1.0     -   1.00e+00  1  1h
  14  3.5909050e+02 6.98e-03 1.66e+00 6.15e-02  -1.0     -   1.00e+00  1  1h
  15  3.6047026e+02 6.05e-05 1.44e-02 6.46e-02  -1.0     -   1.00e+00  1  1h
  16  3.6038251e+02 2.50e-07 7.99e-05 1.89e-03  -2.5     -   1.00e+00  1  1h
  17  3.6037976e+02 2.63e-10 7.93e-08 1.27e-06  -5.7     -   1.00e+00  1  1h
  18  3.6037976e+02 1.11e-16 1.19e-13 1.58e-09  -8.6     -   1.00e+00  2  1h

Number of Iterations....: 18

                                   (scaled)                 (unscaled)
Objective...............:   3.6037976240508465e+02    3.6037976240508465e+02
Dual infeasibility......:   1.1912602012132843e-13    1.1912602012132843e-13
Constraint violation....:   1.1102230246251565e-16    1.1102230246251565e-16
Complementarity.........:   1.5755252336101401e-09    1.5755252336101401e-09
Overall NLP error.......:   1.5755252336101401e-09    1.5755252336101401e-09

Number of objective function evaluations              = 46
Number of objective gradient evaluations              = 19
Number of constraint evaluations                      = 46
Number of constraint Jacobian evaluations             = 19
Number of Lagrangian Hessian evaluations              = 18

Total wall secs in initialization                     =  2.373 s
Total wall secs in linear solver                      =  0.002 s
Total wall secs in NLP function evaluations           =  0.000 s
Total wall secs in solver (w/o init./fun./lin. alg.)  =  7.764 s
Total wall secs                                       = 10.139 s

<span class="sgr32">EXIT: Optimal Solution Found (tol = 1.0e-08).</span></code></pre><p>MadNLP converges in 19 iterations to a (local) optimal solution. MadNLP returns a <a href="../lib/ipm/#MadNLP.MadNLPExecutionStats"><code>MadNLPExecutionStats</code></a> storing all the results. We can query the primal and the dual solutions respectively by</p><pre><code class="language-julia hljs">results.solution</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Float64}:
 -0.7921232178470456
 -1.2624298435831804</code></pre><p>and</p><pre><code class="language-julia hljs">results.multipliers</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Float64}:
 -477.17046873911966
   -3.1262000119573344e-9</code></pre><p>If we come back at the picture displayed at the beginning of this page, the solution found is the one at the bottom left. At this solution, only one constraint is active, explaining why only the first element in <code>results.multipliers</code> is non-null (up to floating point approximation).</p><p>The dual multipliers associated to the variable&#39;s lower bounds (resp. upper bounds) are stored in <code>results.multipliers_L</code> (resp. <code>results.multipliers_U</code>):</p><pre><code class="language-julia hljs">results.multipliers_L</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Float64}:
 0.0
 0.0</code></pre><p>By changing the initial point in <code>HS15Model</code>, MadNLP converges to the second local solution of the non-convex problem HS15:</p><pre><code class="language-julia hljs">x0 = ones(2)
nlp = HS15Model(x0)
results = madnlp(nlp)
nothing</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">This is <span class="sgr34">Mad</span><span class="sgr31">N</span><span class="sgr32">L</span><span class="sgr35">P</span> version v0.8.12, running with MUMPS v5.8.2

Number of nonzeros in constraint Jacobian............:        4
Number of nonzeros in Lagrangian Hessian.............:        3

Total number of variables............................:        2
                     variables with only lower bounds:        0
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        1
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        2
        inequality constraints with only lower bounds:        2
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du inf_compl lg(mu) lg(rg) alpha_pr ir ls
   0  5.8004900e+01 5.20e-01 8.04e+01 1.49e+00  -1.0     -   0.00e+00  1  0
   1  5.5900651e+01 5.15e-01 7.60e+01 1.43e+00  -1.0     -   9.17e-03  1  1h
   2  5.3726392e+01 5.10e-01 8.07e+01 2.01e+00  -1.0     -   1.04e-02  1  1h
   3  5.3797218e+01 5.09e-01 1.75e+02 1.85e-02  -1.0     -   1.25e-03  1  1h
   4  3.0774740e+02 2.03e-03 1.67e+02 8.90e-02  -1.0     -   1.00e+00  1  1H
   5  3.0672128e+02 9.77e-04 3.22e+01 2.61e-02  -1.0     -   5.21e-01  1  1h
   6  3.0680411e+02 2.38e-08 2.45e-03 1.86e-02  -1.0     -   1.00e+00  1  1h
   7  3.0650084e+02 6.07e-07 8.84e-05 5.88e-05  -3.8     -   9.99e-01  1  1h
   8  3.0649998e+02 4.73e-12 1.41e-10 3.43e-07  -5.7     -   1.00e+00  1  1h
   9  3.0649998e+02 8.88e-16 5.48e-14 1.69e-10  -9.0     -   1.00e+00  2  1h

Number of Iterations....: 9

                                   (scaled)                 (unscaled)
Objective...............:   2.0167125901139678e+02    3.0649997549276407e+02
Dual infeasibility......:   5.4833787889654930e-14    8.3336389759955301e-14
Constraint violation....:   8.8817841970012523e-16    8.8817841970012523e-16
Complementarity.........:   1.1127465637341613e-10    1.6911522057533453e-10
Overall NLP error.......:   1.6911522057533453e-10    1.6911522057533453e-10

Number of objective function evaluations              = 11
Number of objective gradient evaluations              = 10
Number of constraint evaluations                      = 11
Number of constraint Jacobian evaluations             = 10
Number of Lagrangian Hessian evaluations              = 9

Total wall secs in initialization                     =  0.001 s
Total wall secs in linear solver                      =  0.001 s
Total wall secs in NLP function evaluations           =  0.000 s
Total wall secs in solver (w/o init./fun./lin. alg.)  =  0.002 s
Total wall secs                                       =  0.003 s

<span class="sgr32">EXIT: Optimal Solution Found (tol = 1.0e-08).</span></code></pre><pre><code class="language-julia hljs">results.solution</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Float64}:
 0.500000009999211
 1.9999999400071047</code></pre><p>Note that we don&#39;t know beforehand towards each solution MadNLP is converging.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../installation/">« Installation</a><a class="docs-footer-nextpage" href="../algorithm/">Algorithm »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Monday 16 February 2026 13:05">Monday 16 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
